<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ANDY-PORTFOLIO</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tahoma:wght@400;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; font-family: 'Tahoma', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { overflow: hidden; background: #000; touch-action: none; }
        
        /* Boot Screen */
        #boot-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 99999;
            display: flex; flex-direction: column; justify-content: center; align-items: center; color: #fff;
        }
        
        .xp-logo-container { position: relative; width: 150px; height: 150px; margin-bottom: 30px; }
        .xp-flag { position: absolute; width: 60px; height: 60px; border-radius: 4px; opacity: 0; }
        .flag-red { background: #ff3333; top: 0; left: 0; animation: flyIn 0.8s forwards; }
        .flag-green { background: #33ff33; top: 0; right: 0; animation: flyIn 0.8s forwards 0.5s; }
        .flag-blue { background: #3333ff; bottom: 0; left: 0; animation: flyIn 0.8s forwards 1s; }
        .flag-yellow { background: #ffff33; bottom: 0; right: 0; animation: flyIn 0.8s forwards 1.5s; }
        
        @keyframes flyIn {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        .xp-text-container { text-align: center; opacity: 0; animation: fadeIn 1s forwards 2s; }
        .xp-text { font-size: 48px; font-weight: bold; letter-spacing: 3px; color: #fff; text-shadow: 0 0 20px rgba(255,255,255,0.8); }
        .xp-subtitle { font-size: 24px; color: #ff3333; font-weight: bold; margin-top: 5px; }
        @keyframes fadeIn { to { opacity: 1; } }
        .blink-animation { animation: blink 0.4s 3; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        
        .boot-loader { display: none; flex-direction: column; align-items: center; width: 100%; max-width: 400px; padding: 20px; }
        .boot-text { font-size: 22px; margin-bottom: 20px; font-weight: bold; color: #fff; }
        .boot-bar-container { width: 100%; max-width: 350px; height: 22px; border: 2px solid #444; padding: 2px; background: #111; border-radius: 2px; }
        .boot-bar { height: 100%; background: linear-gradient(90deg, #4a4a4a 0%, #666 50%, #4a4a4a 100%); width: 0%; transition: width 5.5s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
        .boot-bar::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); animation: barShine 1.5s infinite; }
        @keyframes barShine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        .boot-subtitle { margin-top: 15px; font-size: 13px; color: #666; font-style: italic; }
        
        /* User Selection Screen */
        #user-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: linear-gradient(to bottom, #1a1a2e 0%, #000000 100%); 
            z-index: 99998; display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        .user-title { font-size: 32px; color: #fff; margin-bottom: 50px; text-shadow: 0 0 20px rgba(255,255,255,0.5); }
        .user-container { display: flex; gap: 40px; }
        .user-option { display: flex; flex-direction: column; align-items: center; cursor: pointer; padding: 20px; border-radius: 10px; transition: all 0.3s; border: 2px solid transparent; }
        .user-option:hover { background: rgba(255,255,255,0.1); border: 2px solid #4a90e2; transform: translateY(-5px); box-shadow: 0 10px 30px rgba(74,144,226,0.3); }
        .user-avatar { width: 80px; height: 80px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; margin-bottom: 15px; box-shadow: 0 0 20px rgba(102,126,234,0.5); }
        .user-name { color: #fff; font-size: 18px; font-weight: bold; }
        
        /* DARK Desktop */
        #desktop {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #0f0f1e 40%, #000000 100%);
            display: none; overflow: hidden;
        }
        
        .desktop-icons { position: absolute; top: 10px; left: 10px; display: grid; grid-template-columns: repeat(auto-fill, 80px); gap: 15px; padding: 10px; max-height: calc(100% - 60px); overflow-y: auto; }
        .desktop-icon { width: 75px; text-align: center; cursor: pointer; padding: 5px; border: 1px solid transparent; border-radius: 3px; transition: all 0.2s; }
        .desktop-icon:hover { border: 1px dotted rgba(100,100,255,0.6); background: rgba(100,100,255,0.2); transform: translateY(-2px); box-shadow: 0 0 15px rgba(100,100,255,0.3); }
        .icon-img { width: 48px; height: 48px; margin: 0 auto; font-size: 40px; line-height: 48px; filter: drop-shadow(0 0 5px rgba(0,0,0,0.8)); }
        .icon-text { color: #fff; font-size: 11px; text-shadow: 0 0 5px #000, 0 0 10px #000; margin-top: 4px; font-weight: bold; line-height: 1.2; }
        
        /* DARK Windows - RESIZABLE */
        .window {
            position: absolute; background: #1e1e1e; border: 2px solid #444; border-radius: 6px 6px 0 0;
            box-shadow: 0 0 20px rgba(0,0,0,0.8), 0 0 40px rgba(0,0,0,0.4); 
            min-width: 300px; min-height: 250px; display: flex; flex-direction: column; color: #fff;
            resize: both; overflow: hidden; max-width: 100%; max-height: calc(100% - 50px);
        }
        
        .window-titlebar {
            background: linear-gradient(to bottom, #333 0%, #222 100%); color: #fff; padding: 6px; 
            display: flex; justify-content: space-between; align-items: center; cursor: move; height: 32px;
            border-radius: 4px 4px 0 0; border-bottom: 1px solid #444; flex-shrink: 0;
        }
        .window-title { font-size: 13px; font-weight: bold; display: flex; align-items: center; gap: 6px; }
        .window-controls { display: flex; gap: 2px; }
        .window-btn {
            width: 22px; height: 20px; border: 1px solid #555; background: linear-gradient(to bottom, #444, #333);
            color: #fff; font-size: 12px; line-height: 18px; text-align: center; cursor: pointer; border-radius: 3px;
            font-weight: bold;
        }
        .window-btn:hover { background: linear-gradient(to bottom, #555, #444); }
        .window-btn.close { background: linear-gradient(to bottom, #cc3333, #992222); }
        .window-btn.close:hover { background: linear-gradient(to bottom, #dd4444, #aa3333); }
        
        .window-content { flex: 1; overflow: auto; background: #1e1e1e; position: relative; color: #ddd; }
        .window.maximized { top: 0 !important; left: 0 !important; width: 100% !important; height: calc(100% - 45px) !important; border-radius: 0; resize: none; }
        .window.minimized { display: none !important; }
        
        /* Resize handle */
        .resize-handle {
            position: absolute; bottom: 0; right: 0; width: 15px; height: 15px; cursor: se-resize;
            background: linear-gradient(135deg, transparent 50%, #666 50%); z-index: 10;
        }
        
        /* DARK Taskbar */
        #taskbar {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 45px;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1a1a1a 100%); border-top: 1px solid #444; 
            display: flex; align-items: center; padding: 2px; z-index: 9998; box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
        }
        
        #start-btn {
            height: 38px; padding: 0 15px; background: linear-gradient(to bottom, #2d5a2d 0%, #1a3a1a 100%);
            border: 2px solid #3d6b3d; border-radius: 6px; color: #fff; font-weight: bold; font-size: 14px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; margin-right: 10px;
        }
        #start-btn:hover { background: linear-gradient(to bottom, #3d6b3d, #2d5a2d); }
        #start-btn.active { background: linear-gradient(to bottom, #1a3a1a, #0f2a0f); }
        
        .taskbar-items-container {
            flex: 1; display: flex; align-items: center; gap: 4px; overflow-x: auto; overflow-y: hidden;
            height: 100%; padding: 0 5px;
        }
        .taskbar-items-container::-webkit-scrollbar { height: 0; width: 0; }
        
        .taskbar-item {
            height: 36px; min-width: 160px; max-width: 200px; padding: 0 10px; 
            background: linear-gradient(to bottom, #3a3a3a 0%, #2a2a2a 100%); border: 1px solid #444; border-radius: 4px; 
            color: #ddd; font-size: 11px; display: flex; align-items: center; gap: 8px; cursor: pointer;
            overflow: hidden; white-space: nowrap; text-overflow: ellipsis; position: relative;
        }
        .taskbar-item:hover { background: linear-gradient(to bottom, #4a4a4a, #3a3a3a); }
        .taskbar-item:hover .taskbar-close { display: flex; }
        .taskbar-item.active { background: linear-gradient(to bottom, #1a3a5a 0%, #0f2a4a 100%); border: 1px solid #2a5a8a; color: #fff; }
        
        .taskbar-close {
            display: none; position: absolute; right: 5px; top: 50%; transform: translateY(-50%);
            width: 16px; height: 16px; background: #cc3333; border-radius: 50%; color: #fff;
            font-size: 10px; align-items: center; justify-content: center; cursor: pointer;
        }
        .taskbar-close:hover { background: #ff4444; }
        
        #system-tray { display: flex; align-items: center; gap: 12px; padding: 0 15px; height: 100%; background: linear-gradient(to bottom, #222, #111); border-left: 1px solid #444; margin-left: 5px; position: relative; }
        .tray-icon { font-size: 18px; cursor: pointer; transition: transform 0.1s; }
        .tray-icon:hover { transform: scale(1.2); }
        
        /* Volume Control */
        #volume-control {
            position: absolute; bottom: 50px; right: 10px; background: #2a2a2a; border: 1px solid #444; 
            border-radius: 8px; padding: 15px; display: none; flex-direction: column; gap: 10px; 
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5); z-index: 9999; min-width: 200px;
        }
        #volume-control.show { display: flex; }
        .volume-header { display: flex; justify-content: space-between; align-items: center; color: #fff; font-size: 12px; margin-bottom: 5px; }
        .volume-slider { width: 100%; height: 6px; -webkit-appearance: none; appearance: none; background: #444; border-radius: 3px; outline: none; cursor: pointer; }
        .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #4a90e2; border-radius: 50%; cursor: pointer; }
        .volume-value { color: #4a90e2; font-size: 14px; text-align: center; font-weight: bold; }
        .volume-mute-btn { background: #444; border: none; color: #fff; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 11px; }
        .volume-mute-btn:hover { background: #555; }
        
        #clock { color: #fff; font-size: 12px; text-align: center; min-width: 65px; font-weight: bold; }
        
        /* DARK Start Menu */
        #start-menu {
            position: fixed; bottom: 45px; left: 0; width: 300px; background: #1e1e1e;
            border: 1px solid #444; border-radius: 6px 6px 0 0; box-shadow: 0 0 20px rgba(0,0,0,0.8);
            display: none; z-index: 9997; flex-direction: row; overflow: hidden;
        }
        #start-menu.open { display: flex; }
        .start-sidebar { width: 45px; background: linear-gradient(to bottom, #2a2a3e, #1a1a2e); position: relative; }
        .start-sidebar-text { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%) rotate(-90deg); color: #fff; font-weight: bold; font-size: 20px; white-space: nowrap; }
        .start-content { flex: 1; padding: 8px; }
        .start-item { padding: 10px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-radius: 4px; margin-bottom: 3px; transition: all 0.15s; font-size: 12px; color: #ddd; }
        .start-item:hover { background: #2a4a6a; color: #fff; transform: translateX(3px); }
        .start-icon { width: 28px; height: 28px; font-size: 22px; text-align: center; }
        .start-separator { height: 1px; background: linear-gradient(to right, transparent, #444, transparent); margin: 8px 0; }
        
        /* Browser with Tabs */
        .browser-container { display: flex; flex-direction: column; height: 100%; }
        .browser-tabs { display: flex; background: #2a2a2a; border-bottom: 1px solid #444; overflow-x: auto; min-height: 35px; }
        .browser-tab { 
            display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: #333; border-right: 1px solid #444; 
            color: #ddd; font-size: 11px; cursor: pointer; min-width: 120px; max-width: 200px; position: relative; white-space: nowrap; overflow: hidden;
        }
        .browser-tab:hover { background: #3a3a3a; }
        .browser-tab.active { background: #1e1e1e; border-bottom: 2px solid #4a90e2; color: #fff; }
        .browser-tab-close { font-size: 14px; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        .browser-tab-close:hover { background: #cc3333; color: #fff; }
        .browser-new-tab { 
            width: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; 
            background: #2a2a2a; color: #ddd; font-size: 18px;
        }
        .browser-new-tab:hover { background: #3a3a3a; color: #fff; }
        
        .browser-toolbar { 
            background: #2a2a2a; padding: 6px; border-bottom: 1px solid #444; display: flex; gap: 6px; align-items: center; flex-shrink: 0;
        }
        .browser-btn { padding: 4px 12px; background: linear-gradient(to bottom, #3a3a3a, #2a2a2a); border: 1px solid #555; border-radius: 3px; cursor: pointer; font-size: 12px; font-weight: bold; color: #ddd; }
        .browser-btn:hover { background: linear-gradient(to bottom, #4a4a4a, #3a3a3a); color: #fff; }
        .address-bar { flex: 1; padding: 5px; border: 1px solid #555; font-size: 12px; border-radius: 2px; background: #1a1a1a; color: #fff; }
        .browser-frame-container { flex: 1; position: relative; overflow: hidden; }
        .browser-frame { width: 100%; height: 100%; border: none; display: none; background: #fff; }
        .browser-frame.active { display: block; }
        
        /* Dark Content */
        .skills-container { padding: 20px; height: 100%; overflow-y: auto; background: #1e1e1e; color: #ddd; }
        .skills-header { text-align: center; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid #444; }
        .skills-header h2 { color: #fff; font-size: 24px; margin-bottom: 5px; }
        .skill-category { margin-bottom: 25px; background: #2a2a2a; padding: 20px; border-radius: 8px; border: 1px solid #444; }
        .skill-category-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 2px solid #444; }
        .skill-category h3 { color: #6a9eff; font-size: 16px; margin: 0; }
        .skill-category > p { color: #999; font-size: 12px; margin-bottom: 15px; font-style: italic; margin-top: 5px; }
        .skill-bar { margin: 12px 0; }
        .skill-name { font-size: 13px; margin-bottom: 5px; font-weight: bold; color: #ddd; display: flex; justify-content: space-between; }
        .skill-percent { color: #6a9eff; font-weight: bold; }
        .skill-track { height: 24px; background: #1a1a1a; border: 1px solid #444; border-radius: 12px; overflow: hidden; position: relative; }
        .skill-fill { height: 100%; background: linear-gradient(to right, #2a4a6a, #4a6a9a, #6a9eff); display: flex; align-items: center; padding-left: 12px; color: #fff; font-size: 11px; font-weight: bold; transition: width 1.5s ease-out; position: relative; overflow: hidden; border-radius: 12px; }
        .skill-fill::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); animation: shimmer 2s infinite; }
        @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        
        .folder-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 20px; padding: 20px; }
        .folder-item { text-align: center; cursor: pointer; padding: 15px; border-radius: 6px; transition: all 0.2s; background: #2a2a2a; border: 1px solid #333; }
        .folder-item:hover { background: #3a3a4a; border: 1px solid #4a4a6a; transform: translateY(-3px); }
        .folder-icon { font-size: 48px; margin-bottom: 8px; }
        .folder-name { font-size: 12px; word-wrap: break-word; font-weight: bold; color: #ddd; }
        
        .contact-link { display: flex; align-items: center; gap: 15px; padding: 15px; border-bottom: 1px solid #333; cursor: pointer; text-decoration: none; color: #ddd; transition: all 0.2s; }
        .contact-link:hover { background: #2a2a3a; padding-left: 20px; color: #fff; }
        .contact-icon { font-size: 32px; width: 45px; text-align: center; }
        .contact-info h3 { font-size: 14px; margin-bottom: 3px; color: #6a9eff; }
        .contact-info p { font-size: 12px; color: #999; }
        
        iframe { border: none; }
        
        /* Mobile */
        @media (max-width: 768px) {
            .xp-logo-container { width: 120px; height: 120px; }
            .xp-flag { width: 45px; height: 45px; }
            .xp-text { font-size: 36px; }
            .user-title { font-size: 24px; }
            .user-avatar { width: 60px; height: 60px; font-size: 30px; }
            #taskbar { height: 50px; }
            #start-btn { height: 42px; font-size: 13px; }
            .taskbar-item { min-width: 45px; max-width: 45px; padding: 0; justify-content: center; }
            .taskbar-item span:last-child { display: none; }
            .window { min-width: 280px; left: 10px !important; top: 10px !important; width: calc(100% - 20px) !important; height: calc(100% - 70px) !important; }
            .desktop-icons { grid-template-columns: repeat(auto-fill, 70px); gap: 10px; }
        }
        
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body>

<!-- Boot Screen -->
<div id="boot-screen">
    <div id="logo-phase">
        <div class="xp-logo-container">
            <div class="xp-flag flag-red"></div>
            <div class="xp-flag flag-green"></div>
            <div class="xp-flag flag-blue"></div>
            <div class="xp-flag flag-yellow"></div>
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 50px; font-weight: bold; color: #fff; z-index: 10;">ANDY</div>
        </div>
        <div class="xp-text-container">
            <div class="xp-text">Windows</div>
            <div class="xp-subtitle">Professional</div>
        </div>
    </div>
    
    <div class="boot-loader" id="boot-loader" style="display: none;">
        <div class="boot-text">Portfolio Loading...</div>
        <div class="boot-bar-container">
            <div class="boot-bar" id="boot-bar"></div>
        </div>
        <div class="boot-subtitle">Starting Windows XP Dark Edition...</div>
    </div>
</div>

<!-- User Selection -->
<div id="user-screen" style="display: none;">
    <div class="user-title">Choose your user</div>
    <div class="user-container">
        <div class="user-option" onclick="selectUser()">
            <div class="user-avatar">üë®‚Äçüíª</div>
            <div class="user-name">ANDY</div>
        </div>
    </div>
</div>

<!-- Desktop -->
<div id="desktop" style="display: none;">
    <div class="desktop-icons">
        <div class="desktop-icon" ondblclick="openWindow('projects')" onclick="handleMobile('projects')">
            <div class="icon-img">üìÅ</div>
            <div class="icon-text">Projects</div>
        </div>
        <div class="desktop-icon" ondblclick="openWindow('chrome')" onclick="handleMobile('chrome')">
            <div class="icon-img">üåê</div>
            <div class="icon-text">Chrome</div>
        </div>
        <div class="desktop-icon" ondblclick="openYoutube()" onclick="handleMobile('youtube')">
            <div class="icon-img">‚ñ∂Ô∏è</div>
            <div class="icon-text">YouTube</div>
        </div>
        <div class="desktop-icon" ondblclick="downloadResume()" onclick="handleMobile('resume')">
            <div class="icon-img">üìÑ</div>
            <div class="icon-text">Resume.pdf</div>
        </div>
        <div class="desktop-icon" ondblclick="openWindow('contact')" onclick="handleMobile('contact')">
            <div class="icon-img">üìß</div>
            <div class="icon-text">Contact</div>
        </div>
        <div class="desktop-icon" ondblclick="openWindow('skills')" onclick="handleMobile('skills')">
            <div class="icon-img">‚ö°</div>
            <div class="icon-text">Skills</div>
        </div>
    </div>
    <div id="windows-container"></div>
</div>

<!-- Taskbar -->
<div id="taskbar" style="display: none;">
    <button id="start-btn" onclick="toggleStartMenu()">start</button>
    <div class="taskbar-items-container" id="taskbar-items"></div>
    <div id="system-tray">
        <div class="tray-icon">üì∂</div>
        <div class="tray-icon">üî∑</div>
        <div class="tray-icon" onclick="toggleVolume(event)" id="volume-icon">üîä</div>
        <div class="tray-icon">üîã</div>
        <div class="tray-icon">üõ°Ô∏è</div>
        <div id="clock">12:00 PM</div>
    </div>
    <div id="volume-control">
        <div class="volume-header">
            <span>Volume</span>
            <button class="volume-mute-btn" onclick="toggleMute()">Mute</button>
        </div>
        <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="80" oninput="changeVolume(this.value)">
        <div class="volume-value" id="volume-value">80%</div>
    </div>
</div>

<!-- Start Menu -->
<div id="start-menu">
    <div class="start-sidebar">
        <div class="start-sidebar-text">PORTFOLIO</div>
    </div>
    <div class="start-content">
        <div class="start-item" onclick="openWindow('chrome'); toggleStartMenu()">
            <div class="start-icon">üåê</div>
            <div>Google Chrome</div>
        </div>
        <div class="start-item" onclick="openWindow('projects'); toggleStartMenu()">
            <div class="start-icon">üìÅ</div>
            <div>My Projects</div>
        </div>
        <div class="start-item" onclick="openYoutube(); toggleStartMenu()">
            <div class="start-icon">‚ñ∂Ô∏è</div>
            <div>YouTube</div>
        </div>
        <div class="start-separator"></div>
        <div class="start-item" onclick="openWindow('skills'); toggleStartMenu()">
            <div class="start-icon">‚ö°</div>
            <div>Skills</div>
        </div>
        <div class="start-item" onclick="openWindow('contact'); toggleStartMenu()">
            <div class="start-icon">üìß</div>
            <div>Contact</div>
        </div>
        <div class="start-separator"></div>
        <div class="start-item" onclick="downloadResume(); toggleStartMenu()">
            <div class="start-icon">üìÑ</div>
            <div>Resume.pdf</div>
        </div>
    </div>
</div>

<script>
let windowCount = 0;
let zIndex = 100;
const windows = {};
let touchTimer = null;
let currentVolume = 80;
let isMuted = false;
let browserTabs = {};
let audioCtx = null;
let masterGain = null;

function initAudio() {
    if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        masterGain = audioCtx.createGain();
        masterGain.connect(audioCtx.destination);
        masterGain.gain.value = 0.8;
    }
}

function playSound(type) {
    initAudio();
    if (!masterGain) return;
    
    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    osc.connect(gainNode);
    gainNode.connect(masterGain);
    
    if (type === 'click') {
        osc.frequency.setValueAtTime(600, audioCtx.currentTime);
        gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
        osc.start(audioCtx.currentTime);
        osc.stop(audioCtx.currentTime + 0.1);
    } else if (type === 'startup') {
        osc.frequency.setValueAtTime(300, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(500, audioCtx.currentTime + 0.4);
        gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
        gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.5);
        osc.start(audioCtx.currentTime);
        osc.stop(audioCtx.currentTime + 0.5);
    }
}

function handleMobile(type) {
    if ('ontouchstart' in window) {
        if (touchTimer) {
            clearTimeout(touchTimer);
            touchTimer = null;
            if (type === 'projects') openWindow('projects');
            else if (type === 'chrome') openWindow('chrome');
            else if (type === 'youtube') openYoutube();
            else if (type === 'resume') downloadResume();
            else if (type === 'contact') openWindow('contact');
            else if (type === 'skills') openWindow('skills');
        } else {
            touchTimer = setTimeout(() => { touchTimer = null; }, 300);
        }
    }
}

function toggleVolume(e) {
    e.stopPropagation();
    const volumeControl = document.getElementById('volume-control');
    volumeControl.classList.toggle('show');
}

function changeVolume(val) {
    currentVolume = val;
    if (masterGain) masterGain.gain.value = isMuted ? 0 : val / 100;
    document.getElementById('volume-value').textContent = val + '%';
    updateVolumeIcon();
}

function toggleMute() {
    isMuted = !isMuted;
    if (masterGain) masterGain.gain.value = isMuted ? 0 : currentVolume / 100;
    document.querySelector('.volume-mute-btn').textContent = isMuted ? 'Unmute' : 'Mute';
    updateVolumeIcon();
}

function updateVolumeIcon() {
    const icon = document.getElementById('volume-icon');
    const vol = isMuted ? 0 : currentVolume;
    if (vol == 0) icon.textContent = 'üîá';
    else if (vol < 30) icon.textContent = 'üîà';
    else if (vol < 70) icon.textContent = 'üîâ';
    else icon.textContent = 'üîä';
}

document.addEventListener('click', (e) => {
    const volumeControl = document.getElementById('volume-control');
    const volumeIcon = document.getElementById('volume-icon');
    const startMenu = document.getElementById('start-menu');
    const startBtn = document.getElementById('start-btn');
    
    if (!volumeControl.contains(e.target) && e.target !== volumeIcon) {
        volumeControl.classList.remove('show');
    }
    if (!startMenu.contains(e.target) && !startBtn.contains(e.target) && startMenu.classList.contains('open')) {
        startMenu.classList.remove('open');
        startBtn.classList.remove('active');
    }
});

function selectUser() {
    playSound('click');
    document.getElementById('user-screen').style.display = 'none';
    document.getElementById('desktop').style.display = 'block';
    document.getElementById('taskbar').style.display = 'flex';
    playSound('startup');
    updateClock();
    setInterval(updateClock, 1000);
}

// Boot Sequence
setTimeout(() => { document.querySelector('.xp-logo-container').classList.add('blink-animation'); }, 3500);
setTimeout(() => { document.getElementById('logo-phase').style.display = 'none'; document.getElementById('boot-loader').style.display = 'flex'; }, 5000);
setTimeout(() => { document.getElementById('boot-bar').style.width = '100%'; }, 5200);
setTimeout(() => { document.getElementById('boot-screen').style.display = 'none'; document.getElementById('user-screen').style.display = 'flex'; }, 10500);

function updateClock() {
    const now = new Date();
    const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const dateStr = now.toLocaleDateString([], { month: 'numeric', day: 'numeric' });
    document.getElementById('clock').innerHTML = timeStr + '<br><span style="font-size:9px">' + dateStr + '</span>';
}

function toggleStartMenu() {
    const menu = document.getElementById('start-menu');
    const btn = document.getElementById('start-btn');
    menu.classList.toggle('open');
    btn.classList.toggle('active');
    playSound('click');
}

function openWindow(type) {
    windowCount++;
    const id = 'window-' + windowCount;
    zIndex++;
    
    let windowTitle = { 'projects': 'My Projects', 'chrome': 'Google Chrome', 'contact': 'Contact', 'skills': 'My Skills', 'moiz9855': 'Moiz9855', 'andy9855': 'Andy9855', 'komiwatch': 'KomiWatch', 'campus': 'Campus Connect', 'Nexus': 'Nexus', 'jobjunction': 'Job-Junction', 'valentines': 'Valentines', 'valentine': 'Valentine', 'birthday': 'Her-Birthday', 'pookie': 'Pookie' }[type] || 'Window';
    
    let icon = { 'projects': 'üìÅ', 'chrome': 'üåê', 'contact': 'üìß', 'skills': '‚ö°', 'moiz9855': 'üë§', 'andy9855': 'üë®‚Äçüíª', 'komiwatch': 'üé¨', 'campus': 'üéì', 'Nexus': 'üîó', 'jobjunction': 'üíº', 'valentines': 'üíù', 'valentine': '‚ù§Ô∏è', 'birthday': 'üéÇ', 'pookie': 'üêª' }[type] || 'üìÑ';
    
    const isMobile = window.innerWidth <= 768;
    const windowDiv = document.createElement('div');
    windowDiv.id = id;
    windowDiv.className = 'window';
    windowDiv.style.zIndex = zIndex;
    windowDiv.style.left = isMobile ? '10px' : (50 + (windowCount * 30)) + 'px';
    windowDiv.style.top = isMobile ? '10px' : (50 + (windowCount * 30)) + 'px';
    windowDiv.style.width = isMobile ? 'calc(100% - 20px)' : (type === 'chrome' ? '900px' : '600px');
    windowDiv.style.height = isMobile ? 'calc(100% - 70px)' : (type === 'chrome' ? '600px' : '500px');
    
    let content = '';
    if (type === 'chrome') {
        browserTabs[id] = { currentTab: 1, tabCount: 1 };
        content = `
            <div class="browser-container">
                <div class="browser-tabs" id="tabs-${id}">
                    <div class="browser-tab active" data-tab="1" onclick="switchTab('${id}', 1)">
                        <span>Google</span><span class="browser-tab-close" onclick="event.stopPropagation(); closeTab('${id}', 1)">√ó</span>
                    </div>
                    <div class="browser-new-tab" onclick="addNewTab('${id}')">+</div>
                </div>
                <div class="browser-toolbar">
                    <button class="browser-btn" onclick="browserBack('${id}')">‚Üê</button>
                    <button class="browser-btn" onclick="browserForward('${id}')">‚Üí</button>
                    <button class="browser-btn" onclick="refreshBrowser('${id}')">‚Üª</button>
                    <input type="text" class="address-bar" id="address-${id}" value="https://www.google.com" onkeypress="if(event.key==='Enter')navigateTo('${id}', this.value)">
                    <button class="browser-btn" onclick="navigateTo('${id}', document.getElementById('address-${id}').value)">Go</button>
                </div>
                <div class="browser-frame-container" id="frames-${id}">
                    <iframe class="browser-frame active" id="frame-${id}-1" src="https://www.google.com/webhp?igu=1" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
                </div>
            </div>`;
    } else if (type === 'projects') {
        content = `<div class="folder-grid">
            <div class="folder-item" onclick="openWindow('moiz9855')"><div class="folder-icon">üë§</div><div class="folder-name">Moiz9855</div></div>
            <div class="folder-item" onclick="openWindow('andy9855')"><div class="folder-icon">üë®‚Äçüíª</div><div class="folder-name">Andy9855</div></div>
        </div>`;
    } else if (type === 'moiz9855') {
        content = `<div class="folder-grid">
            <div class="folder-item" onclick="openProject('https://moiz9855.github.io/valentines/')"><div class="folder-icon">üíù</div><div class="folder-name">Valentines</div></div>
            <div class="folder-item" onclick="openProject('https://moiz9855.github.io/valentine/')"><div class="folder-icon">‚ù§Ô∏è</div><div class="folder-name">Valentine</div></div>
            <div class="folder-item" onclick="openProject('https://moiz9855.github.io/her-birthday/')"><div class="folder-icon">üéÇ</div><div class="folder-name">Her-Birthday</div></div>
            <div class="folder-item" onclick="openProject('https://moiz9855.github.io/pookie/')"><div class="folder-icon">üêª</div><div class="folder-name">Pookie</div></div>
        </div>`;
    } else if (type === 'andy9855') {
        content = `<div class="folder-grid">
            <div class="folder-item" onclick="openProject('https://andy9855.github.io/komiwatch/')"><div class="folder-icon">üé¨</div><div class="folder-name">KomiWatch</div></div>
            <div class="folder-item" onclick="openProject('https://andy9855.github.io/campus-connect/')"><div class="folder-icon">üéì</div><div class="folder-name">Campus Connect</div></div>
            <div class="folder-item" onclick="openProject('https://andy9855.github.io/Nexus/')"><div class="folder-icon">üîó</div><div class="folder-name">Nexus</div></div>
           
        </div>`;
    } else if (type === 'skills') {
        content = `<div class="skills-container">
            <div class="skills-header"><h2>‚ö° Technical Skills</h2></div>
            <div class="skill-category">
                <div class="skill-category-header"><span style="font-size:20px">üé®</span><h3>Frontend Development</h3></div>
                <p>Building beautiful, responsive user interfaces</p>
                <div class="skill-bar"><div class="skill-name"><span>HTML5</span><span class="skill-percent">90%</span></div><div class="skill-track"><div class="skill-fill" data-width="90%" style="width: 0%">90%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>CSS3</span><span class="skill-percent">85%</span></div><div class="skill-track"><div class="skill-fill" data-width="85%" style="width: 0%">85%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>JavaScript (ES6+)</span><span class="skill-percent">85%</span></div><div class="skill-track"><div class="skill-fill" data-width="85%" style="width: 0%">85%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>React</span><span class="skill-percent">30%</span></div><div class="skill-track"><div class="skill-fill" data-width="30%" style="width: 0%">30%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>TypeScript</span><span class="skill-percent">70%</span></div><div class="skill-track"><div class="skill-fill" data-width="70%" style="width: 0%">70%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>Responsive Design</span><span class="skill-percent">90%</span></div><div class="skill-track"><div class="skill-fill" data-width="90%" style="width: 0%">90%</div></div></div>
            </div>
            <div class="skill-category">
                <div class="skill-category-header"><span style="font-size:20px">‚öôÔ∏è</span><h3>Backend Development</h3></div>
                <p>Creating robust server-side solutions</p>
                <div class="skill-bar"><div class="skill-name"><span>Node.js</span><span class="skill-percent">70%</span></div><div class="skill-track"><div class="skill-fill" data-width="70%" style="width: 0%">70%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>REST APIs</span><span class="skill-percent">75%</span></div><div class="skill-track"><div class="skill-fill" data-width="75%" style="width: 0%">75%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>SQL Databases (learning)</span><span class="skill-percent">65%</span></div><div class="skill-track"><div class="skill-fill" data-width="65%" style="width: 0%">65%</div></div></div>
            </div>
            <div class="skill-category">
                <div class="skill-category-header"><span style="font-size:20px">üõ†Ô∏è</span><h3>Tools & Workflow</h3></div>
                <p>Professional development practices</p>
                <div class="skill-bar"><div class="skill-name"><span>Git & GitHub</span><span class="skill-percent">85%</span></div><div class="skill-track"><div class="skill-fill" data-width="85%" style="width: 0%">85%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>VS Code</span><span class="skill-percent">95%</span></div><div class="skill-track"><div class="skill-fill" data-width="95%" style="width: 0%">95%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>Terminal / CLI</span><span class="skill-percent">75%</span></div><div class="skill-track"><div class="skill-fill" data-width="75%" style="width: 0%">75%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>Debugging</span><span class="skill-percent">80%</span></div><div class="skill-track"><div class="skill-fill" data-width="80%" style="width: 0%">80%</div></div></div>
                <div class="skill-bar"><div class="skill-name"><span>Chrome DevTools</span><span class="skill-percent">85%</span></div><div class="skill-track"><div class="skill-fill" data-width="85%" style="width: 0%">85%</div></div></div>
            </div>
        </div>`;
    } else if (type === 'contact') {
        content = `<div>
            <a href="mailto:moizgaming985@gmail.com" class="contact-link"><div class="contact-icon">üìß</div><div class="contact-info"><h3>Email</h3><p>moizgaming985@gmail.com</p></div></a>
            <a href="https://github.com/moiz9855" target="_blank" class="contact-link"><div class="contact-icon">üêô</div><div class="contact-info"><h3>GitHub - Moiz9855</h3><p>github.com/moiz9855</p></div></a>
            <a href="https://github.com/andy985" target="_blank" class="contact-link"><div class="contact-icon">üê±</div><div class="contact-info"><h3>GitHub - Andy985</h3><p>github.com/andy985</p></div></a>
            <a href="https://instagram.com/am_moiz16" target="_blank" class="contact-link"><div class="contact-icon">üì∑</div><div class="contact-info"><h3>Instagram</h3><p>@am_moiz16</p></div></a>
            <a href="https://wa.me/03333425155" target="_blank" class="contact-link"><div class="contact-icon">üí¨</div><div class="contact-info"><h3>WhatsApp</h3><p>03333425155</p></div></a>
        </div>`;
    }
    
    windowDiv.innerHTML = `
        <div class="window-titlebar" onmousedown="startDrag(event, '${id}')" ontouchstart="startDragTouch(event, '${id}')">
            <div class="window-title"><span>${icon}</span><span>${windowTitle}</span></div>
            <div class="window-controls">
                <div class="window-btn" onclick="minimizeWindow('${id}')">_</div>
                <div class="window-btn" onclick="maximizeWindow('${id}')">‚ñ°</div>
                <div class="window-btn close" onclick="closeWindow('${id}')">√ó</div>
            </div>
        </div>
        <div class="window-content">${content}</div>
        ${type !== 'chrome' ? `<div class="resize-handle" onmousedown="startResize(event, '${id}')"></div>` : ''}
    `;
    
    document.getElementById('windows-container').appendChild(windowDiv);
    windows[id] = { element: windowDiv, minimized: false, maximized: false, type: type };
    
    const taskbarItem = document.createElement('div');
    taskbarItem.id = 'taskbar-' + id;
    taskbarItem.className = 'taskbar-item active';
    taskbarItem.innerHTML = `<span style="font-size:16px">${icon}</span><span>${windowTitle}</span><div class="taskbar-close" onclick="event.stopPropagation(); closeWindow('${id}')">√ó</div>`;
    taskbarItem.onclick = () => focusWindow(id);
    document.getElementById('taskbar-items').appendChild(taskbarItem);
    
    focusWindow(id);
    playSound('click');
    
    if (type === 'skills') {
        setTimeout(() => {
            document.querySelectorAll('.skill-fill').forEach(bar => { bar.style.width = bar.getAttribute('data-width'); });
        }, 100);
    }
}

function addNewTab(windowId) {
    if (!browserTabs[windowId]) return;
    browserTabs[windowId].tabCount++;
    const newTabId = browserTabs[windowId].tabCount;
    
    const tabsContainer = document.getElementById(`tabs-${windowId}`);
    const newTabBtn = tabsContainer.querySelector('.browser-new-tab');
    
    const tabDiv = document.createElement('div');
    tabDiv.className = 'browser-tab';
    tabDiv.setAttribute('data-tab', newTabId);
    tabDiv.innerHTML = `<span>New Tab</span><span class="browser-tab-close" onclick="event.stopPropagation(); closeTab('${windowId}', ${newTabId})">√ó</span>`;
    tabDiv.onclick = () => switchTab(windowId, newTabId);
    tabsContainer.insertBefore(tabDiv, newTabBtn);
    
    const framesContainer = document.getElementById(`frames-${windowId}`);
    const frame = document.createElement('iframe');
    frame.className = 'browser-frame';
    frame.id = `frame-${windowId}-${newTabId}`;
    frame.src = 'https://www.google.com/webhp?igu=1';
    frame.sandbox = 'allow-scripts allow-same-origin allow-forms allow-popups';
    framesContainer.appendChild(frame);
    
    switchTab(windowId, newTabId);
    playSound('click');
}

function switchTab(windowId, tabId) {
    const tabs = document.querySelectorAll(`#tabs-${windowId} .browser-tab`);
    tabs.forEach(tab => tab.classList.remove('active'));
    const activeTab = document.querySelector(`#tabs-${windowId} .browser-tab[data-tab="${tabId}"]`);
    if (activeTab) activeTab.classList.add('active');
    
    const frames = document.querySelectorAll(`#frames-${windowId} .browser-frame`);
    frames.forEach(frame => frame.classList.remove('active'));
    const activeFrame = document.getElementById(`frame-${windowId}-${tabId}`);
    if (activeFrame) {
        activeFrame.classList.add('active');
        document.getElementById(`address-${windowId}`).value = activeFrame.src;
    }
    if (browserTabs[windowId]) browserTabs[windowId].currentTab = tabId;
}

function closeTab(windowId, tabId) {
    if (!browserTabs[windowId]) return;
    if (browserTabs[windowId].tabCount <= 1) {
        closeWindow(windowId);
        return;
    }
    
    const tab = document.querySelector(`#tabs-${windowId} .browser-tab[data-tab="${tabId}"]`);
    const frame = document.getElementById(`frame-${windowId}-${tabId}`);
    if (tab) tab.remove();
    if (frame) frame.remove();
    
    if (browserTabs[windowId].currentTab === tabId) {
        const remainingTab = document.querySelector(`#tabs-${windowId} .browser-tab:not(.browser-new-tab)`);
        if (remainingTab) {
            const newTabId = remainingTab.getAttribute('data-tab');
            switchTab(windowId, newTabId);
        }
    }
    browserTabs[windowId].tabCount--;
    playSound('click');
}

function openProject(url) {
    openWindow('chrome');
    setTimeout(() => {
        const chromeWindow = Object.keys(windows).find(w => windows[w].type === 'chrome');
        if (chromeWindow && browserTabs[chromeWindow]) {
            addNewTab(chromeWindow);
            const tabId = browserTabs[chromeWindow].currentTab;
            const frame = document.getElementById(`frame-${chromeWindow}-${tabId}`);
            if (frame) frame.src = url;
            const tab = document.querySelector(`#tabs-${chromeWindow} .browser-tab.active span:first-child`);
            if (tab) tab.textContent = 'Project';
        }
    }, 100);
}

function openYoutube() {
    openWindow('chrome');
    setTimeout(() => {
        const chromeWindow = Object.keys(windows).find(w => windows[w].type === 'chrome');
        if (chromeWindow && browserTabs[chromeWindow]) {
            addNewTab(chromeWindow);
            const tabId = browserTabs[chromeWindow].currentTab;
            const frame = document.getElementById(`frame-${chromeWindow}-${tabId}`);
            if (frame) frame.src = 'https://www.youtube.com';
            const address = document.getElementById(`address-${chromeWindow}`);
            if (address) address.value = 'https://www.youtube.com';
            const tab = document.querySelector(`#tabs-${chromeWindow} .browser-tab.active span:first-child`);
            if (tab) tab.textContent = 'YouTube';
        }
    }, 100);
}

function downloadResume() {
    playSound('click');
    const link = document.createElement('a');
    link.href = './moiz.pdf';
    link.download = 'moiz.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    setTimeout(() => { alert('Downloading moiz.pdf...'); }, 100);
}

function browserBack(windowId) {
    if (!browserTabs[windowId]) return;
    const frame = document.getElementById(`frame-${windowId}-${browserTabs[windowId].currentTab}`);
    if (frame) { try { frame.contentWindow.history.back(); } catch(e) {} }
}

function browserForward(windowId) {
    if (!browserTabs[windowId]) return;
    const frame = document.getElementById(`frame-${windowId}-${browserTabs[windowId].currentTab}`);
    if (frame) { try { frame.contentWindow.history.forward(); } catch(e) {} }
}

function refreshBrowser(windowId) {
    if (!browserTabs[windowId]) return;
    const frame = document.getElementById(`frame-${windowId}-${browserTabs[windowId].currentTab}`);
    if (frame) frame.src = frame.src;
}

function navigateTo(windowId, url) {
    if (!browserTabs[windowId]) return;
    const frame = document.getElementById(`frame-${windowId}-${browserTabs[windowId].currentTab}`);
    if (!url.startsWith('http')) url = 'https://' + url;
    if (frame) frame.src = url;
}

function focusWindow(id) {
    if (windows[id].minimized) {
        windows[id].element.classList.remove('minimized');
        windows[id].minimized = false;
    }
    zIndex++;
    windows[id].element.style.zIndex = zIndex;
    windows[id].element.style.display = 'flex';
    document.querySelectorAll('.taskbar-item').forEach(item => item.classList.remove('active'));
    const taskbarItem = document.getElementById('taskbar-' + id);
    if (taskbarItem) taskbarItem.classList.add('active');
}

function minimizeWindow(id) {
    if (!windows[id]) return;
    windows[id].element.classList.add('minimized');
    windows[id].minimized = true;
    document.getElementById('taskbar-' + id).classList.remove('active');
    playSound('click');
}

function maximizeWindow(id) {
    if (!windows[id]) return;
    const win = windows[id].element;
    if (windows[id].maximized) {
        win.classList.remove('maximized');
        windows[id].maximized = false;
        win.style.resize = 'both';
    } else {
        win.classList.add('maximized');
        windows[id].maximized = true;
        win.style.resize = 'none';
    }
    playSound('click');
}

function closeWindow(id) {
    if (!windows[id]) return;
    windows[id].element.remove();
    const taskbarItem = document.getElementById('taskbar-' + id);
    if (taskbarItem) taskbarItem.remove();
    if (browserTabs[id]) delete browserTabs[id];
    delete windows[id];
    playSound('click');
}

function startDrag(e, id) {
    if (!windows[id] || windows[id].maximized) return;
    const win = windows[id].element;
    const offsetX = e.clientX - win.offsetLeft;
    const offsetY = e.clientY - win.offsetTop;
    
    function drag(e) {
        win.style.left = (e.clientX - offsetX) + 'px';
        win.style.top = (e.clientY - offsetY) + 'px';
    }
    function stopDrag() {
        document.removeEventListener('mousemove', drag);
        document.removeEventListener('mouseup', stopDrag);
    }
    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDrag);
    focusWindow(id);
}

function startDragTouch(e, id) {
    if (!windows[id] || windows[id].maximized) return;
    const win = windows[id].element;
    const touch = e.touches[0];
    const offsetX = touch.clientX - win.offsetLeft;
    const offsetY = touch.clientY - win.offsetTop;
    
    function drag(e) {
        const touch = e.touches[0];
        win.style.left = (touch.clientX - offsetX) + 'px';
        win.style.top = (touch.clientY - offsetY) + 'px';
    }
    function stopDrag() {
        document.removeEventListener('touchmove', drag);
        document.removeEventListener('touchend', stopDrag);
    }
    document.addEventListener('touchmove', drag);
    document.addEventListener('touchend', stopDrag);
    focusWindow(id);
}

function startResize(e, id) {
    if (!windows[id]) return;
    e.preventDefault();
    e.stopPropagation();
    const win = windows[id].element;
    const startX = e.clientX;
    const startY = e.clientY;
    const startWidth = parseInt(document.defaultView.getComputedStyle(win).width, 10);
    const startHeight = parseInt(document.defaultView.getComputedStyle(win).height, 10);
    
    function resize(e) {
        const newWidth = startWidth + e.clientX - startX;
        const newHeight = startHeight + e.clientY - startY;
        if (newWidth > 300) win.style.width = newWidth + 'px';
        if (newHeight > 250) win.style.height = newHeight + 'px';
    }
    function stopResize() {
        document.removeEventListener('mousemove', resize);
        document.removeEventListener('mouseup', stopResize);
    }
    document.addEventListener('mousemove', resize);
    document.addEventListener('mouseup', stopResize);
}
</script>


</body>
</html>
